
#include <vector>
#include <memory>

using namespace std;

/*
 * ä¸€é“å¾ˆç»å…¸çš„ dp é—®é¢˜ï¼ŒğŸ¸ è·³çŸ³å­ã€‚
 * 
 * å‡è®¾ nums æ•°ç»„çš„é•¿åº¦ä¸º nï¼Œé‚£ä¹ˆå° ğŸ¸ æœ€åå¿…ç„¶è·³åˆ° n-1 ä¸ªçŸ³å­ï¼Œå¹¶ä¸”å‡è®¾å®ƒæ˜¯ä»ç¬¬ i ä¸ªçŸ³å­è·³è¿‡æ¥çš„ï¼Œé‚£ä¹ˆæ­¤æ—¶éœ€è¦æ»¡è¶³:
 * 
 * - å°é’è›™èƒ½å¤Ÿè·³åˆ°ç¬¬ i ä¸ªçŸ³å­
 * - i + nums[i] >= n - 1ï¼Œä¹Ÿå°±æ˜¯å° ğŸ¸ å¯ä»¥ä»ç¬¬ i ä¸ªçŸ³å­è·³åˆ° n-1 ä¸ªçŸ³å­ã€‚
 * 
 * å¦‚æ­¤ä¸€æ¥ï¼Œæˆ‘ä»¬å°±æ‰¾åˆ°äº†å­é—®é¢˜: å°é’è›™èƒ½å¤Ÿè·³åˆ°ç¬¬ i ä¸ªçŸ³å­ï¼ŒåŒæ—¶ä¹Ÿå¾—åˆ°äº†åŸºæœ¬æ¡ä»¶: i + nums[i] >= n - 1
 */
class Solution {
public:
    bool canJump(vector<int>& nums) {
        int n = nums.size();
        bool dp[n];

        // ğŸ¸ ä»è¿™é‡Œå‡ºå‘ï¼Œæ‰€ä»¥ç¬¬ 0 ä¸ªçŸ³å­å¿…ç„¶ä¸º true
        dp[0] = true;

        for (int i = 1; i < n; i++) {
            dp[i] = false;
            for (int j = 0; j < i; j++) {
                if (nums[j] + j >= i)
                    dp[i] = dp[i] || dp[j];
                if (dp[i]) break;
            }
        }
        return dp[n-1];
    }
};


/* å¦ä¸€ç§æ–¹å¼å°±æ˜¯ä½¿ç”¨è´ªå¿ƒçš„ç­–ç•¥
 * 
 * å¯¹äºä½ç½® K æ¥è¯´ï¼Œå‡è®¾åœ¨è¿™ä¸ªä½ç½®èƒ½å¤Ÿè·³è·ƒçš„è·ç¦»ä¸º d çš„è¯ï¼Œé‚£ä¹ˆ Kï¼ŒK+1ï¼ŒK+2ï¼Œ......ï¼ŒK+d éƒ½æ˜¯å¯è¾¾çš„
 * 
 * å› æ­¤ï¼Œåªè¦ nums[-1] åœ¨ä»»æ„ä¸€ä¸ªå¯è¾¾åŒºé—´å†…å³å¯ã€‚
 */
class Solution {
public:
    bool canJump(vector<int>& nums) {

        int n = nums.size();

        // å‘å³èƒ½å¤Ÿåˆ°è¾¾çš„æœ€å¤§ä½ç½®ï¼Œåˆå§‹åŒ–ä¸ºèµ·ç‚¹
        int rightMost = 0;

        for (int i = 0; i < n; i++) {
            // æ³¨æ„ï¼Œè¿™é‡Œå¿…é¡»è¦æœ‰ rightMost >= i çš„åˆ¤æ–­ï¼Œå³åˆ¤æ–­å½“å‰ä½ç½®æ˜¯å¦å¯è¾¾
            if (nums[i] + i > rightMost && rightMost >= i) {
                rightMost = nums[i] + i;
            }
            if (rightMost >= n - 1) {
                return true;
            }
        }
        return false;
    }
};
